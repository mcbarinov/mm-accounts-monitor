{% extends "inc/base.j2" %}
{% block content %}

<div class="page-header">
  <h2>names / {{ names | length }}</h2>
  <form>
    <select name="group">
      <option value="">-- all groups --</option>
      {% for g in groups %}
      {{option(g.id | string, form.group, g.name)}}
      {% endfor %}
    </select>
    <select name="naming" placeholder="naming" value="{{ form.naming }}" clearable>
      <option value="">-- all namings --</option>
      {% for n in namings %}
      {{option(n, form.naming)}}
      <sl-option value="{{ n }}">{{ n }}</sl-option>
      {% endfor %}
    </select>
    <input type="number" name="limit" value="{{ form.limit or 1000 }}" placeholder="limit" min="1"></input>
    <button type="submit" class="outline">filter</button>
  </form>
</div>

<table>
  <tr>
    <th>account</th>
    <th>naming</th>
    <th>name</th>
    <th>checked_at</th>
    <th>actions</th>
  </tr>
  {% for n in names %}
  <tr>
    <td>{{ n.account }}</td>
    <td>{{ n.naming.value }}</td>
    <td>{{ n.name }}</td>
    <td>{{ n.checked_at | dt }}</td>
    <td>
      <details class="dropdown">
        <summary>actions</summary>
        <ul>
          <li><a href="/api-post/account-namings/{{ n.id }}/check">check</a></li>
          <li><a href="/api/account-namings/{{ n.id }}">view</a></li>
        </ul>
      </details>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}